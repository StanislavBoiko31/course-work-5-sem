{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Stanislav\\\\Desktop\\\\new project\\\\frontend\\\\src\\\\pages\\\\BookingPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axiosInstance from \"../axiosInstance\";\nimport BookingForm from \"../components/BookingForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingPage = () => {\n  _s();\n  const [services, setServices] = useState([]);\n  const [additionalServices, setAdditionalServices] = useState([]);\n  const [photographers, setPhotographers] = useState([]);\n  const [allPhotographers, setAllPhotographers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [discount, setDiscount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const isAuthenticated = Boolean(localStorage.getItem(\"access\"));\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [servicesRes, photographersRes, additionalServicesRes] = await Promise.all([axiosInstance.get(\"/api/services/\"), axiosInstance.get(\"/api/photographers/\"), axiosInstance.get(\"/api/additional-services/\")]);\n        setServices(servicesRes.data.results || servicesRes.data);\n        setAdditionalServices(additionalServicesRes.data.results || additionalServicesRes.data);\n        const photographersData = photographersRes.data.results || photographersRes.data;\n        setAllPhotographers(photographersData);\n        setPhotographers(photographersData);\n        if (isAuthenticated) {\n          const userRes = await axiosInstance.get(\"/api/auth/users/myprofile/\");\n          setUser(userRes.data);\n          setDiscount(userRes.data.personal_discount || 0);\n        } else {\n          setUser(null);\n          setDiscount(0);\n        }\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error(\"Помилка завантаження даних:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        padding: \"40px\"\n      },\n      children: \"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BookingForm, {\n    services: services,\n    additionalServices: additionalServices,\n    photographers: photographers,\n    allPhotographers: allPhotographers,\n    isAuthenticated: isAuthenticated,\n    discount: discount,\n    user: user,\n    onBookingSuccess: () => {}\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingPage, \"q0rv4nnqGuWatCFC2/X9ll9aBms=\");\n_c = BookingPage;\nexport default BookingPage;\nvar _c;\n$RefreshReg$(_c, \"BookingPage\");","map":{"version":3,"names":["React","useState","useEffect","axiosInstance","BookingForm","jsxDEV","_jsxDEV","BookingPage","_s","services","setServices","additionalServices","setAdditionalServices","photographers","setPhotographers","allPhotographers","setAllPhotographers","user","setUser","discount","setDiscount","loading","setLoading","isAuthenticated","Boolean","localStorage","getItem","fetchData","servicesRes","photographersRes","additionalServicesRes","Promise","all","get","data","results","photographersData","userRes","personal_discount","error","_error$response","_error$response$data","console","response","detail","message","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onBookingSuccess","_c","$RefreshReg$"],"sources":["C:/Users/Stanislav/Desktop/new project/frontend/src/pages/BookingPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axiosInstance from \"../axiosInstance\";\nimport BookingForm from \"../components/BookingForm\";\n\nconst BookingPage = () => {\n  const [services, setServices] = useState([]);\n  const [additionalServices, setAdditionalServices] = useState([]);\n  const [photographers, setPhotographers] = useState([]);\n  const [allPhotographers, setAllPhotographers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [discount, setDiscount] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const isAuthenticated = Boolean(localStorage.getItem(\"access\"));\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [servicesRes, photographersRes, additionalServicesRes] = await Promise.all([\n          axiosInstance.get(\"/api/services/\"),\n          axiosInstance.get(\"/api/photographers/\"),\n          axiosInstance.get(\"/api/additional-services/\")\n        ]);\n        setServices(servicesRes.data.results || servicesRes.data);\n        setAdditionalServices(additionalServicesRes.data.results || additionalServicesRes.data);\n        const photographersData = photographersRes.data.results || photographersRes.data;\n        setAllPhotographers(photographersData);\n        setPhotographers(photographersData);\n        if (isAuthenticated) {\n          const userRes = await axiosInstance.get(\"/api/auth/users/myprofile/\");\n          setUser(userRes.data);\n          setDiscount(userRes.data.personal_discount || 0);\n        } else {\n          setUser(null);\n          setDiscount(0);\n        }\n      } catch (error) {\n        console.error(\"Помилка завантаження даних:\", error.response?.data?.detail || error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  if (loading) {\n    return <div style={{ textAlign: \"center\", padding: \"40px\" }}>Завантаження...</div>;\n  }\n\n  return (\n    <BookingForm\n      services={services}\n      additionalServices={additionalServices}\n      photographers={photographers}\n      allPhotographers={allPhotographers}\n      isAuthenticated={isAuthenticated}\n      discount={discount}\n      user={user}\n      onBookingSuccess={() => {}}\n    />\n  );\n};\n\nexport default BookingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}